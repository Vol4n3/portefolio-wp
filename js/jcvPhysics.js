!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n||t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t){return t&&t.__esModule?t:{default:t}}(t("./Point")),u=function(t){function e(t,n,o){i(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return s.radius=o,s.classType="Circle",s}return o(e,a.default),s(e,[{key:"inteceptLineSeg",value:function(t){var e,n,i,r,o,s,a,u,h,c;return h={},c={},h.x=t.p2.x-t.p1.x,h.y=t.p2.y-t.p1.y,c.x=t.p1.x-this.x,c.y=t.p1.y-this.y,e=h.x*c.x+h.y*c.y,n=2*(h.x*h.x+h.y*h.y),e*=-2,i=Math.sqrt(e*e-2*n*(c.x*c.x+c.y*c.y-this.radius*this.radius)),!isNaN(i)&&(r=(e-i)/n,o=(e+i)/n,a={},u={},s=[],r<=1&&r>=0&&(a.x=t.p1.x+h.x*r,a.y=t.p1.y+h.y*r,s[0]=a),o<=1&&o>=0&&(u.x=t.p1.x+h.x*o,u.y=t.p1.y+h.y*o,s[s.length]=u),s)}},{key:"collisionTo",value:function(t){return"Point"==t.classType?this.distanceTo(t)<=this.radius+t.radius:"Segment"==t.classType?this.inteceptLineSeg(t):void 0}}]),e}();n.default=u},{"./Point":4}],2:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){i(this,t),this.canvas=document.createElement("canvas"),this.container=document.getElementById(e),this.container.appendChild(this.canvas),this.context=this.canvas.getContext("2d"),window.addEventListener("resize",this.resize.bind(this)),this.resize(),this.draws={},requestAnimationFrame(this.gameloop.bind(this))}return r(t,[{key:"gameloop",value:function(){this.context.clearRect(0,0,this.getWidth(),this.getHeight());for(var t in this.draws)this.draws[t].draw(this.context);requestAnimationFrame(this.gameloop.bind(this))}},{key:"add",value:function(t,e){this.draws[t]=e}},{key:"getDraw",value:function(t){return this.draws[t]}},{key:"removeDraw",value:function(t){delete this.draws[t]}},{key:"clear",value:function(){this.draws={}}},{key:"resize",value:function(){this.canvas.width=this.getWidth(),this.canvas.height=this.getHeight()}},{key:"getWidth",value:function(){return this.container.clientWidth}},{key:"getHeight",value:function(){return this.container.clientHeight}},{key:"getCenter",value:function(){return{x:this.getWidth()/2,y:this.this.getHeight()/2}}}]),t}();n.default=o},{}],3:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t)}return r(t,null,[{key:"round10",value:function(t){var e=Math.round(100*t)/100;return e<=.1&&e>=-.1?0:e}}]),t}();n.default=o},{}],4:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t){return t&&t.__esModule?t:{default:t}}(t("./Geometry")),u=function(t){function e(t,n){i(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.x=t||0,o.y=n||0,o.classType="Point",o.speed=1,o.targetPosition={x:t,y:n},o}return o(e,a.default),s(e,[{key:"setTargetPosition",value:function(t,e){this.targetPosition={x:t,y:e}}},{key:"moveToTarget",value:function(){var t=new Vector(this.targetPosition.x-this.x,this.targetPosition.y-this.y);t.getLength()>this.speed&&(t.setLength(this.speed),this.translate(t.x,t.y))}},{key:"getObject",value:function(){return{x:this.x,y:this.y}}},{key:"translate",value:function(t,e){this.x+=t,this.y+=e}},{key:"add",value:function(t){this.translate(t.x,t.y)}},{key:"soustract",value:function(t){this.translate(-t.x,-t.y)}},{key:"divide",value:function(t){this.x/=t.x,this.y/=t.y}},{key:"multiply",value:function(t){this.x*=t.x,this.y*=t.y}},{key:"angleTo",value:function(t){return Math.atan2(t.y-this.y,t.x-this.x)}},{key:"distanceTo",value:function(t){var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)}},{key:"signTo",value:function(t,e){return(this.x-e.x)*(t.y-e.y)-(t.x-e.x)*(this.y-e.y)}},{key:"inTriangle",value:function(t,e,n,i){var r=void 0,o=void 0,s=void 0;return i?(r=this.signTo(t,e)<0,o=this.signTo(e,n)<0,s=this.signTo(n,t)<0):(r=this.signTo(t,e)<=0,o=this.signTo(e,n)<=0,s=this.signTo(n,t)<=0),r==o&&o==s}}]),e}();n.default=u},{"./Geometry":3}],5:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(t("./Vector")),s=function(){function t(e,n){i(this,t),this.ext=e.substr(e.lastIndexOf(".")+1),this.content={},this.animations={default:{frames:[0],speed:1,loop:!1}},this.playing="default",this.countFrames=0,this.position=new Point,this.current=0,this.iteration=0,this.inverse=!1,this.velocity=new o.default,"json"==this.ext?this.loadJson(e,n):e&&this.addFrame(e,0),this.maxWidth=0,this.maxHeight=0,this.minOffsetX=null,this.minOffsetY=null}return r(t,[{key:"playAnimation",value:function(t,e,n){this.iteration=0,this.playing=t,this.animations[t].speed=e||5,this.animations[t].loop=n||!1}},{key:"addAnimation",value:function(t,e){this.animations[t]={speed:5,frames:e,loop:!0}}},{key:"draw",value:function(t){this.animations[this.playing]&&this.animations[this.playing].speed<this.countFrames&&(this.current=this.animations[this.playing].frames[this.iteration],++this.iteration>=this.animations[this.playing].frames.length&&(this.animations[this.playing].loop?this.iteration=0:this.iteration=this.animations[this.playing].frames.length-1),this.countFrames=0),this.content[this.current]&&this.content[this.current].ready&&(t.save(),this.inverse&&(t.translate(this.maxWidth/2,0),t.scale(-1,1)),"json"==this.ext?t.drawImage(this.content[this.current].img,this.content[this.current].x,this.content[this.current].y,this.content[this.current].width,this.content[this.current].height,this.position.x+this.content[this.current].offsetX-this.maxWidth/2,this.position.y+this.content[this.current].offsetY-(this.maxHeight+22),this.content[this.current].width,this.content[this.current].height):t.drawImage(this.content[this.current].img,this.position.x,this.position.y),t.restore()),this.countFrames++,this.position.add(this.velocity)}},{key:"loadJson",value:function(t,e){fetch(t).then(function(t){return t.json()}).then(function(t){var n=t.frames;for(var i in n)this.addFrame(e,Object.keys(this.content).length,n[i].frame.x,n[i].frame.y,n[i].frame.w,n[i].frame.h,n[i].spriteSourceSize.x,n[i].spriteSourceSize.y)}.bind(this))}},{key:"addFrame",value:function(t,e,n,i,r,o,s,a){this.maxWidth<r&&(this.maxWidth=r),this.maxHeight<o&&(this.maxHeight=o),(null==this.minOffsetX||this.minOffsetX>s)&&(this.minOffsetX=s),(null==this.minOffsetY||this.minOffsetY>a)&&(this.minOffsetY=a);var u=new Image;this.content[e]={url:t,ready:!1},u.onload=function(){this.content[e].img=u,this.content[e].width=r||u.width,this.content[e].height=o||u.height,this.content[e].x=n||0,this.content[e].y=i||0,this.content[e].offsetX=s||0,this.content[e].offsetY=a||0,this.content[e].ready=!0}.bind(this),u.src=t}}]),t}();n.default=s},{"./Vector":7}],6:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t){return t&&t.__esModule?t:{default:t}}(t("./Sprite")),u=function(t){function e(t,n){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,a.default),s(e,[{key:"draw",value:function(t){if(this.animations[this.playing]&&this.animations[this.playing].speed<this.countFrames&&(this.current=this.animations[this.playing].frames[this.iteration],++this.iteration>=this.animations[this.playing].frames.length&&(this.animations[this.playing].loop?this.iteration=0:this.iteration=this.animations[this.playing].frames.length-1),this.countFrames=0),this.content[this.current]&&this.content[this.current].ready){if(t.save(),this.inverse&&(t.translate(this.maxWidth/2,0),t.scale(-1,1)),"json"==this.ext)t.drawImage(this.content[this.current].img,this.content[this.current].x,this.content[this.current].y,this.content[this.current].width,this.content[this.current].height,this.position.x+this.content[this.current].offsetX-this.maxWidth/2,this.position.y+this.content[this.current].offsetY-(this.maxHeight+22),this.content[this.current].width,this.content[this.current].height);else{var e=t.createPattern(this.content[this.current].img,"repeat");t.fillStyle=e,t.translate(this.position.x,this.position.y),t.fillRect(-this.position.x,-this.position.y,t.canvas.width,t.canvas.height),t.translate(-this.position.x,-this.position.y)}t.restore()}this.countFrames++,this.position.add(this.velocity)}}]),e}();n.default=u},{"./Sprite":5}],7:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t){return t&&t.__esModule?t:{default:t}}(t("./Point")),u=function(t){function e(t,n){i(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.update(),o}return o(e,a.default),s(e,[{key:"update",value:function(){this.length=this.getLength(),this.angle=this.getAngle()}},{key:"setX",value:function(t){this.x=t,this.update()}},{key:"setY",value:function(t){this.y=t,this.update()}},{key:"getAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"setAngle",value:function(t){var e=this.getLength();this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this.update()}},{key:"getLength",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"setLength",value:function(t){var e=this.getAngle();this.x=Math.cos(e)*t,this.y=Math.sin(e)*t,this.update()}}]),e}();n.default=u},{"./Point":4}],8:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=i(t("./Geometry")),o=i(t("./Point")),s=i(t("./Circle")),a=i(t("./Sprite")),u=i(t("./Tile")),h=i(t("./Vector")),c=i(t("./Game"));window.Geometry=r.default,window.Point=o.default,window.Circle=s.default,window.Sprite=a.default,window.Tile=u.default,window.Vector=h.default,window.Game=c.default},{"./Circle":1,"./Game":2,"./Geometry":3,"./Point":4,"./Sprite":5,"./Tile":6,"./Vector":7}]},{},[8]);
//# sourceMappingURL=jcvPhysics.js.map
