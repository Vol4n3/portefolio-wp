{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/class/Circle.js","src/class/Game.js","src/class/Geometry.js","src/class/Point.js","src/class/Sprite.js","src/class/Tile.js","src/class/Vector.js","src/class/jcvPhysics.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Circle","x","y","radius","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","classType","line","b","c","d","u1","u2","ret","retP1","retP2","v1","v2","p2","p1","Math","sqrt","isNaN","object","distanceTo","inteceptLineSeg","Game","container","canvas","document","createElement","getElementById","appendChild","context","getContext","window","addEventListener","resize","bind","draws","requestAnimationFrame","gameloop","clearRect","getWidth","getHeight","draw","id","sprites","width","height","clientWidth","clientHeight","Geometry","round","Point","lastPosition","getObject","setLastPosition","p","translate","atan2","dx","dy","p3","strict","b1","b2","b3","signTo","Sprite","url","urlImage","ext","substr","lastIndexOf","content","animations","default","frames","speed","loop","playing","countFrames","position","current","iteration","inverse","velocity","_Vector2","loadJson","addFrame","maxWidth","maxHeight","minOffsetX","minOffsetY","name","ctx","ready","save","scale","drawImage","img","offsetX","offsetY","restore","add","fetch","then","res","json","keys","frame","w","h","spriteSourceSize","srcX","srcY","srcWidth","srcHeight","Image","onload","src","Tile","pattern","createPattern","fillStyle","fillRect","Vector","update","getLength","angle","getAngle","cos","sin","_Geometry2","_Point2","_Circle2","_Sprite2","_Tile2","_Game2"],"mappings":"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","file":"jcvPhysics.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Point from './Point'; \r\n\r\nexport default class Circle extends Point {\r\n    \r\n    constructor(x,y,radius){\r\n        super(x,y);\r\n        this.radius = radius;\r\n        this.classType = \"Circle\";\r\n    }\r\n        inteceptLineSeg(line) {\r\n        var a, b, c, d, u1, u2, ret, retP1, retP2, v1, v2;\r\n        v1 = {};\r\n        v2 = {};\r\n        v1.x = line.p2.x - line.p1.x;\r\n        v1.y = line.p2.y - line.p1.y;\r\n        v2.x = line.p1.x - this.x;\r\n        v2.y = line.p1.y - this.y;\r\n        b = (v1.x * v2.x + v1.y * v2.y);\r\n        c = 2 * (v1.x * v1.x + v1.y * v1.y);\r\n        b *= -2;\r\n        d = Math.sqrt(b * b - 2 * c * (v2.x * v2.x + v2.y * v2.y - this.radius * this.radius));\r\n        if (isNaN(d)) { // no intercept\r\n            return false;\r\n        }\r\n        u1 = (b - d) / c;  // these represent the unit distance of point one and two on the line\r\n        u2 = (b + d) / c;\r\n        retP1 = {};   // return points\r\n        retP2 = {}\r\n        ret = []; // return array\r\n        if (u1 <= 1 && u1 >= 0) {  // add point if on the line segment\r\n            retP1.x = line.p1.x + v1.x * u1;\r\n            retP1.y = line.p1.y + v1.y * u1;\r\n            ret[0] = retP1;\r\n        }\r\n        if (u2 <= 1 && u2 >= 0) {  // second add point if on the line segment\r\n            retP2.x = line.p1.x + v1.x * u2;\r\n            retP2.y = line.p1.y + v1.y * u2;\r\n            ret[ret.length] = retP2;\r\n        }\r\n        return ret;\r\n    }\r\n    collisionTo(object) {\r\n        if (object.classType == \"Point\") {\r\n            return this.distanceTo(object) <= this.radius + object.radius;\r\n        } else if (object.classType == \"Segment\") {\r\n            return this.inteceptLineSeg(object);\r\n        }\r\n    }\r\n}\r\n","export default class Game  {\r\n    constructor(container) {\r\n        this.canvas = document.createElement('canvas');\r\n        this.container = document.getElementById(container);\r\n        this.container.appendChild(this.canvas);\r\n        this.context = this.canvas.getContext('2d');\r\n        window.addEventListener('resize', this.resize.bind(this));\r\n        this.resize();\r\n        this.draws = {};\r\n        requestAnimationFrame(this.gameloop.bind(this));\r\n    }\r\n    gameloop() {\r\n        this.context.clearRect(0, 0, this.getWidth(), this.getHeight());\r\n        for (let i in this.draws) {\r\n            this.draws[i].draw(this.context);\r\n        }\r\n        requestAnimationFrame(this.gameloop.bind(this));\r\n    }\r\n    add(id, draw) {\r\n        this.draws[id] = draw;\r\n    }\r\n    getSprite(id){\r\n        return this.sprites[id];\r\n    }\r\n    resize() {\r\n        this.canvas.width = this.getWidth();\r\n        this.canvas.height = this.getHeight();\r\n    }\r\n    getWidth() {\r\n        return this.container.clientWidth;\r\n\r\n    }\r\n    getHeight() {\r\n        return this.container.clientHeight;\r\n    }\r\n    getCenter() {\r\n        return {\r\n            x: this.getWidth() / 2,\r\n            y: this.this.getHeight() / 2,\r\n        }\r\n    }\r\n}","export default class Geometry {\r\n    constructor(){\r\n        \r\n    }\r\n    static round10(n) {\r\n        var round = Math.round(n * 100) / 100;\r\n        if (round <= 0.1 && round >= -0.1) {\r\n            return 0;\r\n        } else {\r\n            return round;\r\n        }\r\n    }\r\n};\r\n","import Geometry from './Geometry';\r\nexport default class Point extends Geometry {\r\n    constructor(x, y) {\r\n        super();\r\n        this.x = x || 0;\r\n        this.y = y || 0;\r\n        this.classType = \"Point\";\r\n        this.lastPosition = {\r\n            x: 0,\r\n            y: 0\r\n        }\r\n    }\r\n    getObject() {\r\n        return {\r\n            x: this.x,\r\n            y: this.y\r\n        }\r\n    }\r\n    setLastPosition() {\r\n        this.lastPosition = this.getObject;\r\n    }\r\n    translate(x, y) {\r\n        this.setLastPosition();\r\n        this.x += x;\r\n        this.y += y;\r\n    }\r\n    add(p) {\r\n        this.setLastPosition();\r\n        this.translate(p.x, p.y);\r\n    }\r\n    soustract(p) {\r\n        this.setLastPosition();\r\n        this.translate(- p.x, - p.y);\r\n    }\r\n    divide(p) {\r\n        this.setLastPosition();\r\n        this.x /= p.x;\r\n        this.y /= p.y;\r\n    }\r\n    multiply(p) {\r\n        this.setLastPosition();\r\n        this.x *= p.x;\r\n        this.y *= p.y;\r\n    }\r\n    angleTo(p) {\r\n        return Math.atan2(p.y - this.y, p.x - this.x);\r\n    }\r\n    distanceTo(p) {\r\n        var dx = p.x - this.x,\r\n            dy = p.y - this.y;\r\n        return Math.sqrt(dx * dx + dy * dy);\r\n    }\r\n    signTo(p1, p2) {\r\n        return (this.x - p2.x) * (p1.y - p2.y) - (p1.x - p2.x) * (this.y - p2.y);\r\n    }\r\n    inTriangle(p1, p2, p3, strict) {\r\n        let b1, b2, b3;\r\n        if (strict) {\r\n            b1 = this.signTo(p1, p2) < 0;\r\n            b2 = this.signTo(p2, p3) < 0;\r\n            b3 = this.signTo(p3, p1) < 0;\r\n        } else {\r\n            b1 = this.signTo(p1, p2) <= 0;\r\n            b2 = this.signTo(p2, p3) <= 0;\r\n            b3 = this.signTo(p3, p1) <= 0;\r\n        }\r\n        return ((b1 == b2) && (b2 == b3));\r\n    }\r\n}\r\n","import Vector from './Vector';\r\nexport default class Sprite {\r\n    constructor(url, urlImage) {\r\n        this.ext = url.substr(url.lastIndexOf('.') + 1);\r\n        this.content = {};\r\n        this.animations = {\r\n            \"default\": {\r\n                frames: [0],\r\n                speed: 1,\r\n                loop: false\r\n            }\r\n        };\r\n        this.playing = \"default\";\r\n        this.countFrames = 0;\r\n        this.position = new Point();\r\n        this.current = 0;\r\n        this.iteration = 0;\r\n        this.inverse = false;\r\n        this.velocity = new Vector();\r\n        if (this.ext == 'json') {\r\n            this.loadJson(url, urlImage);\r\n        } else if (url) {\r\n            this.addFrame(url, 0);\r\n        }\r\n        this.maxWidth = 0;\r\n        this.maxHeight = 0;\r\n        this.minOffsetX = null;\r\n        this.minOffsetY = null;\r\n    }\r\n    playAnimation(name, speed, loop) {\r\n        this.iteration = 0;\r\n        this.playing = name;\r\n        this.animations[name].speed = speed || 5;\r\n        this.animations[name].loop = loop || false;\r\n    }\r\n    addAnimation(name, frames) {\r\n        this.animations[name] = {\r\n            speed: 5,\r\n            frames: frames,\r\n            loop: true\r\n        }\r\n    }\r\n    /**\r\n     * \r\n     * @param {CanvasRenderingContext2D} ctx \r\n     */\r\n    draw(ctx) {\r\n        if (this.animations[this.playing] && this.animations[this.playing].speed < this.countFrames) {\r\n\r\n            this.current = this.animations[this.playing].frames[this.iteration];\r\n\r\n            this.iteration++;\r\n            if (this.iteration >= this.animations[this.playing].frames.length) {\r\n\r\n                if (this.animations[this.playing].loop) {\r\n                    this.iteration = 0;\r\n                } else {\r\n                    this.iteration = this.animations[this.playing].frames.length - 1;\r\n                }\r\n            }\r\n\r\n            this.countFrames = 0;\r\n        }\r\n        if (this.content[this.current] && this.content[this.current].ready) {\r\n            ctx.save();\r\n            if (this.inverse) {\r\n                ctx.translate(this.maxWidth / 2, 0);\r\n                ctx.scale(-1, 1);\r\n            }\r\n            if (this.ext == 'json') {\r\n\r\n                ctx.drawImage(\r\n                    this.content[this.current].img,\r\n                    this.content[this.current].x,\r\n                    this.content[this.current].y,\r\n                    this.content[this.current].width,\r\n                    this.content[this.current].height,\r\n                    this.position.x + this.content[this.current].offsetX - this.maxWidth / 2,\r\n                    this.position.y + this.content[this.current].offsetY - (this.maxHeight + 22),\r\n                    this.content[this.current].width,\r\n                    this.content[this.current].height\r\n                );\r\n            }else{\r\n                ctx.drawImage(\r\n                    this.content[this.current].img,\r\n                    this.position.x,\r\n                    this.position.y\r\n                );\r\n            }\r\n\r\n            ctx.restore();\r\n        }\r\n        this.countFrames++;\r\n        this.position.add(this.velocity);\r\n    }\r\n    loadJson(url, urlImage) {\r\n        fetch(url)\r\n            .then(function (res) {\r\n                return res.json();\r\n            })\r\n            .then(function (json) {\r\n                let frames = json.frames;\r\n                for (let i in frames) {\r\n                    this.addFrame(\r\n                        urlImage,\r\n                        Object.keys(this.content).length,\r\n                        frames[i].frame.x,\r\n                        frames[i].frame.y,\r\n                        frames[i].frame.w,\r\n                        frames[i].frame.h,\r\n                        frames[i].spriteSourceSize.x,\r\n                        frames[i].spriteSourceSize.y\r\n                    )\r\n                }\r\n            }.bind(this));\r\n    }\r\n    addFrame(url, position, srcX, srcY, srcWidth, srcHeight, offsetX, offsetY) {\r\n        if (this.maxWidth < srcWidth) {\r\n            this.maxWidth = srcWidth;\r\n        }\r\n        if (this.maxHeight < srcHeight) {\r\n            this.maxHeight = srcHeight;\r\n        }\r\n        if (this.minOffsetX == null || this.minOffsetX > offsetX) {\r\n            this.minOffsetX = offsetX;\r\n        }\r\n        if (this.minOffsetY == null || this.minOffsetY > offsetY) {\r\n            this.minOffsetY = offsetY;\r\n        }\r\n        let img = new Image();\r\n        this.content[position] = {\r\n            url: url,\r\n            ready: false\r\n        };\r\n        img.onload = function () {\r\n            this.content[position].img = img;\r\n            this.content[position].width = srcWidth || img.width;\r\n            this.content[position].height = srcHeight || img.height;\r\n            this.content[position].x = srcX || 0;\r\n            this.content[position].y = srcY || 0;\r\n            this.content[position].offsetX = offsetX || 0;\r\n            this.content[position].offsetY = offsetY || 0;\r\n            this.content[position].ready = true;\r\n\r\n        }.bind(this);\r\n        img.src = url;\r\n    }\r\n}","import Sprite from './Sprite';\r\nexport default class Tile extends Sprite {\r\n    constructor(url, urlImage) {\r\n        super(url, urlImage)\r\n    }\r\n    /**\r\n * \r\n * @param {CanvasRenderingContext2D} ctx \r\n */\r\n    draw(ctx) {\r\n        if (this.animations[this.playing] && this.animations[this.playing].speed < this.countFrames) {\r\n\r\n            this.current = this.animations[this.playing].frames[this.iteration];\r\n\r\n            this.iteration++;\r\n            if (this.iteration >= this.animations[this.playing].frames.length) {\r\n\r\n                if (this.animations[this.playing].loop) {\r\n                    this.iteration = 0;\r\n                } else {\r\n                    this.iteration = this.animations[this.playing].frames.length - 1;\r\n                }\r\n            }\r\n\r\n            this.countFrames = 0;\r\n        }\r\n        if (this.content[this.current] && this.content[this.current].ready) {\r\n            ctx.save();\r\n            if (this.inverse) {\r\n                ctx.translate(this.maxWidth / 2, 0);\r\n                ctx.scale(-1, 1);\r\n            }\r\n            if (this.ext == 'json') {\r\n\r\n                ctx.drawImage(\r\n                    this.content[this.current].img,\r\n                    this.content[this.current].x,\r\n                    this.content[this.current].y,\r\n                    this.content[this.current].width,\r\n                    this.content[this.current].height,\r\n                    this.position.x + this.content[this.current].offsetX - this.maxWidth / 2,\r\n                    this.position.y + this.content[this.current].offsetY - (this.maxHeight + 22),\r\n                    this.content[this.current].width,\r\n                    this.content[this.current].height\r\n                );\r\n            } else {\r\n             \r\n                var pattern = ctx.createPattern(this.content[this.current].img, 'repeat');\r\n                ctx.fillStyle = pattern;\r\n                ctx.translate(this.position.x,this.position.y);\r\n                ctx.fillRect(-this.position.x,-this.position.y,ctx.canvas.width,ctx.canvas.height);\r\n                ctx.translate(-this.position.x, -this.position.y);\r\n\r\n            }\r\n            ctx.restore();\r\n        }\r\n        this.countFrames++;\r\n        this.position.add(this.velocity);\r\n    }\r\n}","import Point from './Point';\r\nexport default class Vector extends Point {\r\n    constructor(x, y) {\r\n        super(x,y);\r\n        this.update();\r\n    }\r\n    update(){\r\n        this.length = this.getLength();\r\n        this.angle = this.getAngle();\r\n    }\r\n    setX(x){\r\n        this.x = x;\r\n        this.update();\r\n    }\r\n    setY(y){\r\n        this.y = y;\r\n        this.update();\r\n    }\r\n    getAngle(){\r\n        return Math.atan2(this.y, this.x);\r\n    }\r\n    setAngle(angle){\r\n\t\tvar length = this.getLength();\r\n\t\tthis.x = Math.cos(angle) * length;\r\n        this.y = Math.sin(angle) * length;\r\n        this.update();\r\n    }\r\n    getLength(){\r\n        return Math.sqrt(this.x * this.x + this.y * this.y);\r\n    }\r\n    setLength(length){\r\n\t\tvar angle = this.getAngle();\r\n\t\tthis.x = Math.cos(angle) * length;\r\n        this.y = Math.sin(angle) * length;\r\n        this.update();\r\n    }\r\n}","/// <reference path=\"../../node_modules/phaser-ce/typescript/phaser.d.ts\" />\r\n\r\nimport Geometry from './Geometry';\r\nwindow.Geometry = Geometry;\r\nimport Point from './Point';\r\nwindow.Point = Point;\r\nimport Circle from './Circle';\r\nwindow.Circle = Circle;\r\nimport Sprite from './Sprite';\r\nwindow.Sprite = Sprite;\r\nimport Tile from './Tile';\r\nwindow.Tile = Tile;\r\nimport Vector from './Vector';\r\nwindow.Vector = Vector;\r\nimport Game from './Game';\r\nwindow.Game = Game;"]}